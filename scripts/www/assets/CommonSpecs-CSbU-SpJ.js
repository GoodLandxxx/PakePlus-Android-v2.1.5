import{d as f,u as S,i as b,h as y,j as C,c as a,a as k,b as t,A as N,l as x,F as M,r as V,f as u,v as m,o as i,t as h,_ as I}from"./index-C-yXZlVN.js";const T={class:"page-container"},A={class:"content"},B={class:"specs-list"},D={class:"spec-info"},E={class:"spec-text"},F=["onClick"],O={key:0,class:"empty-tip"},U={class:"add-card"},J={class:"input-row"},j={class:"input-wrapper"},G={class:"input-wrapper"},v="machining_common_specs",H=f({__name:"CommonSpecs",setup(K){const c=S(),o=b([]),s=y({width:"",length:""}),_=()=>{const n=localStorage.getItem(v);if(n)try{o.value=JSON.parse(n)}catch(e){console.error("Failed to parse specs",e),r()}else r()},r=()=>{o.value=[{width:1220,length:2440},{width:1e3,length:2e3},{width:1500,length:3e3},{width:1250,length:2500}],d()},d=()=>{localStorage.setItem(v,JSON.stringify(o.value))},w=()=>{const n=Number(s.width),e=Number(s.length);if(!n||!e){c.showModal({title:"错误",content:"请输入有效的宽度和长度",type:"warning"});return}o.value.push({width:n,length:e}),d(),s.width="",s.length=""},g=n=>{c.showModal({title:"确认删除",content:"确定要删除这个规格吗？",type:"warning",showCancel:!0,confirmText:"删除",cancelText:"取消",onConfirm:()=>{o.value.splice(n,1),d(),c.showModal({type:"success",content:"删除成功"})}})};return C(()=>{_()}),(n,e)=>(i(),a("div",T,[k(N,{title:"常用规格","show-arrow":""}),t("div",A,[t("div",B,[(i(!0),a(M,null,V(o.value,(l,p)=>(i(),a("div",{key:p,class:"spec-item"},[t("div",D,[t("span",E,h(l.width)+" × "+h(l.length)+" mm",1)]),t("button",{class:"delete-btn",onClick:L=>g(p)},"删除",8,F)]))),128)),o.value.length===0?(i(),a("div",O," 暂无常用规格，请添加 ")):x("",!0)]),t("div",U,[e[4]||(e[4]=t("div",{class:"add-title"},"添加新规格",-1)),t("div",J,[t("div",j,[e[2]||(e[2]=t("label",null,"宽度(mm)",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.width=l),type:"number",placeholder:"0"},null,512),[[m,s.width,void 0,{number:!0}]])]),t("div",G,[e[3]||(e[3]=t("label",null,"长度(mm)",-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>s.length=l),type:"number",placeholder:"0"},null,512),[[m,s.length,void 0,{number:!0}]])])]),t("button",{class:"add-confirm-btn",onClick:w},"添加")])])]))}}),Y=I(H,[["__scopeId","data-v-91fe8a20"]]);export{Y as default};
